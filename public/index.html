<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="keywords" content="mitachibana, giftia, michael sickels, kanjuku mango" />
    <meta
      name="description"
      content="Lots of mangoes, a blog, and just being bocchi bocchi"
    />
    <link href="styles/index-styles.css" rel="stylesheet" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="favicon/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="favicon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="favicon/favicon-16x16.png"
    />
    <link rel="manifest" href="favicon/site.webmanifest" />
    <title>Kanjuku Mango</title>
  </head>
  <body>
    <div class="title">
      <img class="logo" src="media/kanjuku-mango-logo.webp" />
    </div>
    <div class="navbar notranslate">
      <a data-page="home">Home</a>
      <a href="https://www.youtube.com/channel/UCGKdpeH_SC4hB_5ix_ThBUA" target="_blank">Youtube</a>
      <a data-page="3dprint">3D Printing</a></li>
      <a href="https://github.com/mitachibana" target="_blank">GitHub</a>
      <a data-page="about">About</a>
      <a href="#translate">Set Language</a>
	  </div>
    <main>
      <div class="flexbox1">
        <div class="flex-left">
          <div class="flex-notices">
            <div class="flex-notices-sticky">
              <div id="content" class="greeting">
              </div>
            </div>
          </div>
        </div>
        <div class="flex-right">
          <div id="translate" class="translate-container">
            <div class="google-translate">
              <h2>Translate page</h2>
              <div id="google_translate_element"></div>
            </div>
          </div>
          <iframe
            class="sidebar-iframe"
            src="pages/!sidebar.html"
            scrolling="no"
          ></iframe>
        </div>
      </div>
    </main>
    <script src="app.js"></script>
    <script type="text/javascript">
      function googleTranslateElementInit() {
        new google.translate.TranslateElement(
          { pageLanguage: "en" },
          "google_translate_element"
        );
      }

      // Detect iOS
      const isIOS = /iP(hone|od|ad)/.test(navigator.userAgent);

      // Check if iframe appears after delay (widget loaded)
      window.addEventListener("load", () => {
        setTimeout(() => {
          const iframe = document.querySelector("#google_translate_element iframe");
          if (!iframe || isIOS) {
            document.getElementById("google_translate_element").style.display = "none";
            document.getElementById("translate-fallback").style.display = "block";
          }
        }, 5000); // wait 5 seconds for widget to try loading
      });
</script>
<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</body>
</html>
